
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen-a1ce949a.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-bccf8c07.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-c5541673.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-d19f5e29.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#bitcoin-card-api-documentation" class="toc-h1 toc-link" data-title="Bitcoin Card API Documentation">Bitcoin Card API Documentation</a>
          </li>
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
            <a href="#users" class="toc-h1 toc-link" data-title="Users">Users</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-all-users" class="toc-h2 toc-link" data-title="Get All Users">Get All Users</a>
                  </li>
                  <li>
                    <a href="#get-a-specific-user" class="toc-h2 toc-link" data-title="Get a Specific User">Get a Specific User</a>
                  </li>
                  <li>
                    <a href="#create-user" class="toc-h2 toc-link" data-title="Create User">Create User</a>
                  </li>
                  <li>
                    <a href="#update-user" class="toc-h2 toc-link" data-title="Update User">Update User</a>
                  </li>
                  <li>
                    <a href="#delete-a-specific-user" class="toc-h2 toc-link" data-title="Delete a Specific User">Delete a Specific User</a>
                  </li>
                  <li>
                    <a href="#get-user-39-s-virtual-card" class="toc-h2 toc-link" data-title="Get User's Virtual Card">Get User's Virtual Card</a>
                  </li>
                  <li>
                    <a href="#get-user-transactions" class="toc-h2 toc-link" data-title="Get User Transactions">Get User Transactions</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://www.bitcoin.com'>Bitcoin.com</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <p><img src="images/logo-d19f5e29.png" alt="Bitcoin.com"></p>
<h1 id='bitcoin-card-api-documentation'>Bitcoin Card API Documentation</h1><h1 id='introduction'>Introduction</h1>
<p>This is documentation for Bitcoin Card API, REST based API service, which provides various endpoints to Bitcoin.com front end applications. The API allows authorized applications to get user data, create users, their wallet information, card information and various other card user related data. The data provided by the API comes from PostgreSQL compatible database, run on Amazon Web Service, and from card provider APIs (Ternio API and Prysym API). </p>

<p>We have language bindings in Shell, Ruby, Python, and JavaScript! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<p>This example API documentation page was created with <a href="https://github.com/lord/slate">Slate</a>. Feel free to edit it and use it as a base for your own API&#39;s documentation.</p>
<h1 id='authentication'>Authentication</h1>
<p>All communication with Card API is done over HTTPS protocol. We provide user with the certificate after which user can connect to the API. </p>

<p>In order for any client to access Card API endpoints, valid access token has to be obtained from AWS Cognito. Token can be obtained for any user created in Cognito, however scope of the token has to have &#39;openid&#39; and &#39;profile&#39; in order to be parsed and verified by the Card API. 
After decoding the token and doing in code validation, Cognito endpoint <b>/oauth2/userInfo</b> will be called with the token for additional validation. If token is invalid, user has globally logged out, or token was never issued by Cognito, endpoint will not return user data and Card API will return <b>401</b> code and <b>&#39;Unauthorized&#39;</b> message.</p>
<h1 id='users'>Users</h1><h2 id='get-all-users'>Get All Users</h2><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://ec2-3-136-241-73.us-east-2.compute.amazonaws.com:8443/v1/users"</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>COMING SOON - This endpoint retrieves all users.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://ec2-3-136-241-73.us-east-2.compute.amazonaws.com:8443/v1/users</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<aside class="success">
If succesfull, HTTP code 200 will be returned
</aside>
<h2 id='get-a-specific-user'>Get a Specific User</h2><pre class="highlight shell tab-shell"><code><span class="sb">`</span>curl -v -X GET https://ec2-3-136-241-73.us-east-2.compute.amazonaws.com:8443/v1/users/search?username<span class="o">=</span>mduric<span class="sb">`</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
   </span><span class="s2">"firstName"</span><span class="p">:</span><span class="s2">"Mehmed"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"lastName"</span><span class="p">:</span><span class="s2">"XXX"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="s2">"2019-12-16T23:03:41.121+0000"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"updatedAt"</span><span class="p">:</span><span class="s2">"2020-01-03T15:56:10.302+0000"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"email"</span><span class="p">:</span><span class="s2">"md@yahoo.com"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"phoneNumber"</span><span class="p">:</span><span class="s2">"(997) 334-2323"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"dateOfBirth"</span><span class="p">:</span><span class="s2">"99/99/9999"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"gender"</span><span class="p">:</span><span class="s2">"M"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"promotioanlConsent"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"addresStreet"</span><span class="p">:</span><span class="s2">"2208 Flat Branch"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"addressCity"</span><span class="p">:</span><span class="s2">"Richmond"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"addressPostalCode"</span><span class="p">:</span><span class="s2">"23233"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"addressState"</span><span class="p">:</span><span class="s2">"Va"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"addressCountry"</span><span class="p">:</span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"defaultCurrencyId"</span><span class="p">:</span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"socialSecurityNumber"</span><span class="p">:</span><span class="s2">"888-00-8888"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"active"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w"> 
   </span><span class="s2">"username"</span><span class="p">:</span><span class="s2">"mduric"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint retrieves a specific user.</p>

<aside class="success">
If succesfull, HTTP code 200 will be returned
</aside>

<aside class="warning">If user is not found, HTTP code 404 will be returned.</aside>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://ec2-3-136-241-73.us-east-2.compute.amazonaws.com:8443/v1/users/search?username=mduric</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>Optional parameter, user name of the user to retrieve</td>
</tr>
<tr>
<td>email</td>
<td>Optional parameter, email of the user to retrieve</td>
</tr>
</tbody></table>

<p>Both parameters are optional, but one of them has to be passed in order to retrieve valid user. </p>
<h2 id='create-user'>Create User</h2><pre class="highlight shell tab-shell"><code><span class="s1">'curl -v -X POST https://ec2-3-136-241-73.us-east-2.compute.amazonaws.com:8443/v1/users \
   -H "Content-type:application/json" -d \
   "{\"firstName\":\"Joe\", \
   \"lastName\":\"Doe\", \
   \"email\":\"md@yahoo.com\", \
   \"phoneNumber\":\"941-667-2323\", \
   \"dateOfBirth\":\"04/24/1987\", \
   \"gender\":\"M\", \
   \"isActive\":\"true\", \
   \"promotionalConsent\":\"true\", \
   \"addresStreet\":\"1122 Ridgefield Dr.\", \
   \"addressCity\":\"Venice\", \
   \"addressPostalCode\":\"34210\", \
   \"addressState\":\"Ohio\", \
   \"addressCountry\":\"US\", \
   \"defaultCurrencyId\":\"BCH\", \
   \"socialSecurityNumber\":\"223-23-2323\" \
   \"userName\":\"mduric\" \
   }"'</span>
</code></pre>
<p>This endpoint creates new user.</p>

<aside class="success">
If succesfull, HTTP code 200 will be returned
</aside>

<aside class="warning">If error, HTTP code 400 (bad request) will be returned.</aside>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://ec2-3-136-241-73.us-east-2.compute.amazonaws.com:8443/v1/users</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>The first name of the user</td>
</tr>
<tr>
<td>lastName</td>
<td>The last name of the user</td>
</tr>
<tr>
<td>email</td>
<td>The email of the user</td>
</tr>
<tr>
<td>phoneNumber</td>
<td>The phone number of the user</td>
</tr>
<tr>
<td>dateOfBirth</td>
<td>The date of birth of the user</td>
</tr>
<tr>
<td>gender</td>
<td>The gender of the user</td>
</tr>
<tr>
<td>isActive</td>
<td>Active or not?</td>
</tr>
<tr>
<td>promotionalConsent</td>
<td>User allows promotional material</td>
</tr>
<tr>
<td>addressStreet</td>
<td>The street address of the user</td>
</tr>
<tr>
<td>addressCity</td>
<td>The city of the user</td>
</tr>
<tr>
<td>addressPostalCode</td>
<td>The postal code of the user</td>
</tr>
<tr>
<td>addressState</td>
<td>The state of the user</td>
</tr>
<tr>
<td>addressCountry</td>
<td>The country of the user</td>
</tr>
<tr>
<td>defaultCurrencyId</td>
<td>The currency type of the user</td>
</tr>
<tr>
<td>socialSecurityNumber</td>
<td>The SSN of the user</td>
</tr>
<tr>
<td>userName</td>
<td>The user name of the user</td>
</tr>
</tbody></table>
<h2 id='update-user'>Update User</h2><pre class="highlight shell tab-shell"><code>curl -v -X PUT https://ec2-3-136-241-73.us-east-2.compute.amazonaws.com:8443/v1/users <span class="se">\</span>
   -H <span class="s2">"Content-type:application/json"</span> -d <span class="se">\</span>
   <span class="s2">"{ </span><span class="se">\</span><span class="s2">
      </span><span class="se">\"</span><span class="s2">id</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">4</span><span class="se">\"</span><span class="s2">, </span><span class="se">\</span><span class="s2">
      </span><span class="se">\"</span><span class="s2">socialSecurityNumber</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">888-00-8888</span><span class="se">\"</span><span class="s2">, </span><span class="se">\</span><span class="s2">
      </span><span class="se">\"</span><span class="s2">email</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">zzz@yahoo.com</span><span class="se">\"</span><span class="s2"> </span><span class="se">\</span><span class="s2">
    }"</span>
</code></pre>
<p>This endpoint update a specific user information.</p>

<aside class="success">
If succesfull, HTTP code 200 will be returned
</aside>

<aside class="warning">If error, HTTP code 400 (bad request) will be returned.</aside>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT https://ec2-3-136-241-73.us-east-2.compute.amazonaws.com:8443/v1/users</code></p>
<h3 id='url-parameters-3'>URL Parameters</h3>
<p>Any of the available parameters can be sent for updating.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td>The first name of the user</td>
</tr>
<tr>
<td>lastName</td>
<td>The last name of the user</td>
</tr>
<tr>
<td>email</td>
<td>The email of the user</td>
</tr>
<tr>
<td>phoneNumber</td>
<td>The phone number of the user</td>
</tr>
<tr>
<td>dateOfBirth</td>
<td>The date of birth of the user</td>
</tr>
<tr>
<td>gender</td>
<td>The gender of the user</td>
</tr>
<tr>
<td>isActive</td>
<td>Active or not?</td>
</tr>
<tr>
<td>promotionalConsent</td>
<td>User allows promotional material</td>
</tr>
<tr>
<td>addressStreet</td>
<td>The street address of the user</td>
</tr>
<tr>
<td>addressCity</td>
<td>The city of the user</td>
</tr>
<tr>
<td>addressPostalCode</td>
<td>The postal code of the user</td>
</tr>
<tr>
<td>addressState</td>
<td>The state of the user</td>
</tr>
<tr>
<td>addressCountry</td>
<td>The country of the user</td>
</tr>
<tr>
<td>defaultCurrencyId</td>
<td>The currency type of the user</td>
</tr>
<tr>
<td>socialSecurityNumber</td>
<td>The SSN of the user</td>
</tr>
<tr>
<td>userName</td>
<td>The user name of the user</td>
</tr>
</tbody></table>
<h2 id='delete-a-specific-user'>Delete a Specific User</h2><pre class="highlight shell tab-shell"><code>curl -v -X DELETE https://ec2-3-136-241-73.us-east-2.compute.amazonaws.com:8443/v1/users/5 
</code></pre>
<p>This endpoint deletes a specific user.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>DELETE https://ec2-3-136-241-73.us-east-2.compute.amazonaws.com:8443/v1/users/&lt;ID&gt;</code></p>
<h3 id='url-parameters-4'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the user to delete</td>
</tr>
</tbody></table>
<h2 id='get-user-39-s-virtual-card'>Get User&#39;s Virtual Card</h2><pre class="highlight shell tab-shell"><code><span class="sb">`</span>curl https://ec2-3-136-241-73.us-east-2.compute.amazonaws.com:8443/v1/users/1/virtual-card<span class="sb">`</span>
</code></pre>
<p>This endpoint retrieves a specific user&#39;s virtual card, such as this: </p>

<p><img src="images/virtual-card.jfif" alt="Virtual Card"></p>

<aside class="success">
If succesfull, HTTP code 200 will be returned
</aside>

<aside class="warning">If user is not found, HTTP code 404 will be returned.</aside>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET https://ec2-3-136-241-73.us-east-2.compute.amazonaws.com:8443/v1/users/&lt;ID&gt;/virtual-card</code></p>
<h3 id='url-parameters-5'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ID</td>
<td>The ID of the user to retrieve</td>
</tr>
</tbody></table>
<h2 id='get-user-transactions'>Get User Transactions</h2><pre class="highlight shell tab-shell"><code>curl -v -X GET https://ec2-3-136-241-73.us-east-2.compute.amazonaws.com:8443/v1/users/transactions
</code></pre>
<p>This endpoint retrieves user transactions. Currently it is getting data from card provider (Ternio) user ledger transactions, however, this will be expanded to card transactions too. Eventually, this endpoint will get transactions from both card providers and allow several types of transactions to be retrieved. </p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET https://ec2-3-136-241-73.us-east-2.compute.amazonaws.com:8443/v1/users/transactions</code></p>
<h1 id='errors'>Errors</h1>
<aside class="notice">
This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>'s frontmatter. Files are included in the order listed.
</aside>

<p>The Card API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The user requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified user could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access user with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The user requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
